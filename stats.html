---
layout: default
title: ë…¼ë¬¸ í†µê³„ ëŒ€ì‹œë³´ë“œ
---

<div class="container">
    <a href="/index.html" class="home-link">â† ì˜¤ëŠ˜ì˜ ë…¼ë¬¸ìœ¼ë¡œ ëŒì•„ê°€ê¸°</a>
    
    <h1>ğŸ“Š AI ê¸°ë°˜ ë…¼ë¬¸ í†µê³„ ëŒ€ì‹œë³´ë“œ</h1>

    {% assign all_papers = site.data.cathode.archive | concat: site.data.anode.archive | concat: site.data.cathode.today | concat: site.data.anode.today %}
    {% assign total_papers = all_papers | size %}
    
    {% assign today_papers = site.data.cathode.today | concat: site.data.anode.today %}
    {% assign today_papers_size = today_papers | size %}

    <div class="dashboard-container">
        <div class="dashboard-card">
            <h3>ì „ì²´ ë…¼ë¬¸ ìˆ˜</h3>
            <div class="value">{{ total_papers }}</div>
        </div>
        <div class="dashboard-card">
            <h3>ì˜¤ëŠ˜ ì—…ë°ì´íŠ¸</h3>
            <div class="value">{{ today_papers_size }}</div>
        </div>
        <div class="dashboard-card">
            <h3>ë°ì´í„° ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸</h3>
            <div class="value" style="font-size: 1.2rem;">{{ site.time | date: "%Y-%m-%d" }}</div>
        </div>
    </div>

    <div class="chart-grid">
        <div class="chart-container">
            <h3>AI ë¶„ì„ ì—°êµ¬ ë¶„ì•¼</h3>
            <canvas id="aiCategoryChart"></canvas>
        </div>
        <div class="chart-container">
            <h3>ì›”ë³„ ë…¼ë¬¸ íŠ¸ë Œë“œ</h3>
            <canvas id="monthlyChart"></canvas>
        </div>
        <div class="chart-container full-width">
            <h3>Top 10 í•« í‚¤ì›Œë“œ</h3>
            <canvas id="topKeywordsChart"></canvas>
        </div>
        <div class="chart-container full-width">
            <h3>Top 10 ì—°êµ¬ ê¸°ê´€</h3>
            <canvas id="topInstitutionsChart"></canvas>
        </div>
    </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    if (typeof Chart === 'undefined') {
        console.error('Chart.jsê°€ ë¡œë“œë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.');
        return;
    }

    // Jekyll ë°ì´í„°ë¥¼ JavaScript ë³€ìˆ˜ë¡œ ë³€í™˜
    const papers = {{ all_papers | jsonify }};

    // --- ë°ì´í„° ë¶„ì„ ---
    const categoryCounts = {};
    const keywordCounts = {};
    const institutionCounts = {};
    const monthlyCounts = {};

    papers.forEach(paper => {
        // 1. AI ì—°êµ¬ ë¶„ì•¼ ë¶„ì„
        if (paper.category && paper.category !== "ë¶„ë¥˜ ì•ˆë¨") {
            categoryCounts[paper.category] = (categoryCounts[paper.category] || 0) + 1;
        }

        // 2. í‚¤ì›Œë“œ ë¹ˆë„ ë¶„ì„
        if (paper.keywords) {
            paper.keywords.forEach(kw => {
                keywordCounts[kw] = (keywordCounts[kw] || 0) + 1;
            });
        }

        // 3. ì—°êµ¬ ê¸°ê´€ ë¶„ì„ (ì²« ë²ˆì§¸ ì €ì ê¸°ì¤€)
        if (paper.authors) {
            const firstAuthor = paper.authors.split(',')[0];
            // ì €ì ì´ë¦„ ë’¤ ê´„í˜¸ ì•ˆì˜ ë‚´ìš©ì„ ê¸°ê´€ìœ¼ë¡œ ê°„ì£¼ (ê°„ë‹¨í•œ ì¶”ì •)
            const match = firstAuthor.match(/\((.*?)\)/);
            if (match && match[1]) {
                const institution = match[1].trim();
                institutionCounts[institution] = (institutionCounts[institution] || 0) + 1;
            }
        }
        
        // 4. ì›”ë³„ íŠ¸ë Œë“œ ë¶„ì„
        if (paper.date && typeof paper.date === 'string' && paper.date.length >= 7) {
            const month = paper.date.substring(0, 7);
            if (/^\d{4}-\d{2}$/.test(month)) {
                monthlyCounts[month] = (monthlyCounts[month] || 0) + 1;
            }
        }
    });

    // Top 10 ë°ì´í„° ì •ë ¬ í•¨ìˆ˜
    const getTop10 = (counts) => {
        return Object.entries(counts)
            .sort(([, a], [, b]) => b - a)
            .slice(0, 10);
    };

    const topKeywords = getTop10(keywordCounts);
    const topInstitutions = getTop10(institutionCounts);
    
    const sortedMonths = Object.keys(monthlyCounts).sort();
    const recent12Months = sortedMonths.slice(-12);

    // --- ì°¨íŠ¸ ìƒì„± ---
    const chartColors = ['#3498db', '#e74c3c', '#2ecc71', '#f1c40f', '#9b59b6', '#1abc9c', '#e67e22'];

    // 1. AI ì—°êµ¬ ë¶„ì•¼ (ë„ë„› ì°¨íŠ¸)
    new Chart(document.getElementById('aiCategoryChart'), {
        type: 'doughnut',
        data: {
            labels: Object.keys(categoryCounts),
            datasets: [{
                data: Object.values(categoryCounts),
                backgroundColor: chartColors,
            }]
        },
        options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { position: 'bottom' } } }
    });

    // 2. ì›”ë³„ ë…¼ë¬¸ íŠ¸ë Œë“œ (ë§‰ëŒ€ ì°¨íŠ¸)
    new Chart(document.getElementById('monthlyChart'), {
        type: 'bar',
        data: {
            labels: recent12Months,
            datasets: [{
                label: 'ë…¼ë¬¸ ìˆ˜',
                data: recent12Months.map(m => monthlyCounts[m]),
                backgroundColor: '#3498db',
            }]
        },
        options: { responsive: true, maintainAspectRatio: false, scales: { y: { beginAtZero: true, ticks: { stepSize: 1 } } }, plugins: { legend: { display: false } } }
    });

    // 3. Top 10 í•« í‚¤ì›Œë“œ (ìˆ˜í‰ ë§‰ëŒ€ ì°¨íŠ¸)
    new Chart(document.getElementById('topKeywordsChart'), {
        type: 'bar',
        data: {
            labels: topKeywords.map(item => item[0]),
            datasets: [{
                label: 'ì–¸ê¸‰ íšŸìˆ˜',
                data: topKeywords.map(item => item[1]),
                backgroundColor: '#2ecc71',
            }]
        },
        options: { indexAxis: 'y', responsive: true, maintainAspectRatio: false, plugins: { legend: { display: false } } }
    });

    // 4. Top 10 ì—°êµ¬ ê¸°ê´€ (ìˆ˜í‰ ë§‰ëŒ€ ì°¨íŠ¸)
    new Chart(document.getElementById('topInstitutionsChart'), {
        type: 'bar',
        data: {
            labels: topInstitutions.map(item => item[0]),
            datasets: [{
                label: 'ë…¼ë¬¸ ìˆ˜',
                data: topInstitutions.map(item => item[1]),
                backgroundColor: '#9b59b6',
            }]
        },
        options: { indexAxis: 'y', responsive: true, maintainAspectRatio: false, plugins: { legend: { display: false } } }
    });
});
</script>

<style>
.dashboard-container {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 20px;
    margin-bottom: 40px;
}
.dashboard-card {
    background: var(--bg-secondary);
    padding: 20px;
    border-radius: 8px;
    text-align: center;
    box-shadow: 0 2px 4px rgba(0,0,0,0.05);
}
.dashboard-card h3 {
    margin-top: 0;
    font-size: 1rem;
    color: var(--text-secondary);
}
.dashboard-card .value {
    font-size: 2.5rem;
    font-weight: 700;
    color: var(--text-primary);
}
.chart-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 30px;
}
.chart-container {
    background: var(--bg-secondary);
    padding: 20px;
    border-radius: 8px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.05);
    height: 400px;
}
.chart-container.full-width {
    grid-column: 1 / -1;
}
.chart-container h3 {
    text-align: center;
    margin-top: 0;
    margin-bottom: 20px;
}
@media (max-width: 768px) {
    .chart-grid {
        grid-template-columns: 1fr;
    }
}
</style>

