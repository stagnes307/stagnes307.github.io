---
layout: default
title: ë…¼ë¬¸ í†µê³„ ëŒ€ì‹œë³´ë“œ
---
<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ page.title }}</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/assets/css/common.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.9.1/dist/chart.min.js"></script>
</head>

<body>
    <button class="theme-toggle" id="themeToggle" title="ë‹¤í¬ ëª¨ë“œ í† ê¸€">ğŸŒ™</button>
    
    <div class="container">
        <a href="/index.html" class="home-link">â† ì˜¤ëŠ˜ì˜ ë…¼ë¬¸ìœ¼ë¡œ ëŒì•„ê°€ê¸°</a>
        
        <h1>ğŸ“Š ë…¼ë¬¸ í†µê³„ ëŒ€ì‹œë³´ë“œ</h1>

        {% assign cathode_archives = site.data.cathode.archive %}
        {% assign anode_archives = site.data.anode.archive %}
        {% assign cathode_today = site.data.cathode.today %}
        {% assign anode_today = site.data.anode.today %}

        {% assign total_cathode = cathode_archives | size | plus: cathode_today | size %}
        {% assign total_anode = anode_archives | size | plus: anode_today | size %}
        {% assign total_papers = total_cathode | plus: total_anode %}

        <div class="dashboard-container">
            <div class="dashboard-card">
                <h3>ì „ì²´ ë…¼ë¬¸ ìˆ˜</h3>
                <div class="value">{{ total_papers }}</div>
                <p>ì–‘ê·¹ì¬: {{ total_cathode }}ê°œ<br>ìŒê·¹ì¬: {{ total_anode }}ê°œ</p>
            </div>
            <div class="dashboard-card">
                <h3>ì˜¤ëŠ˜ì˜ ë…¼ë¬¸</h3>
                <div class="value">{{ cathode_today | size | plus: anode_today | size }}</div>
                <p>ì–‘ê·¹ì¬: {{ cathode_today | size }}ê°œ<br>ìŒê·¹ì¬: {{ anode_today | size }}ê°œ</p>
            </div>
            <div class="dashboard-card">
                <h3>ì•„ì¹´ì´ë¸Œ</h3>
                <div class="value">{{ cathode_archives | size | plus: anode_archives | size }}</div>
                <p>ì–‘ê·¹ì¬: {{ cathode_archives | size }}ê°œ<br>ìŒê·¹ì¬: {{ anode_archives | size }}ê°œ</p>
            </div>
        </div>

        <div class="chart-container">
            <h3>ì¹´í…Œê³ ë¦¬ë³„ ë…¼ë¬¸ ìˆ˜</h3>
            <canvas id="categoryChart" style="max-height: 300px;"></canvas>
        </div>

        <div class="chart-container" style="margin-top: 30px;">
            <h3>ì›”ë³„ ë…¼ë¬¸ ìˆ˜</h3>
            <canvas id="monthlyChart" style="max-height: 300px;"></canvas>
        </div>
    </div>

    <a href="#" id="scrollTopBtn" title="ë§¨ ìœ„ë¡œ ê°€ê¸°">Top â†‘</a>

    <script src="/assets/js/common.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // ì¹´í…Œê³ ë¦¬ë³„ ì°¨íŠ¸
            const categoryCtx = document.getElementById('categoryChart');
            if (categoryCtx) {
                new Chart(categoryCtx, {
                    type: 'doughnut',
                    data: {
                        labels: ['ì–‘ê·¹ì¬', 'ìŒê·¹ì¬'],
                        datasets: [{
                            data: [{{ total_cathode }}, {{ total_anode }}],
                            backgroundColor: ['#3498db', '#e74c3c']
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false
                    }
                });
            }

            // ì›”ë³„ ë…¼ë¬¸ ìˆ˜ ì§‘ê³„
            const papers = [];
            {% for paper in cathode_archives %}
            papers.push('{{ paper.date }}');
            {% endfor %}
            {% for paper in anode_archives %}
            papers.push('{{ paper.date }}');
            {% endfor %}
            {% for paper in cathode_today %}
            papers.push('{{ paper.date }}');
            {% endfor %}
            {% for paper in anode_today %}
            papers.push('{{ paper.date }}');
            {% endfor %}

            const monthlyData = {};
            papers.forEach(date => {
                if (date && date.length >= 7) {
                    const month = date.substring(0, 7);
                    monthlyData[month] = (monthlyData[month] || 0) + 1;
                }
            });

            const sortedMonths = Object.keys(monthlyData).sort();
            const monthlyLabels = sortedMonths.slice(-12); // ìµœê·¼ 12ê°œì›”
            const monthlyValues = monthlyLabels.map(m => monthlyData[m] || 0);

            // ì›”ë³„ ì°¨íŠ¸
            const monthlyCtx = document.getElementById('monthlyChart');
            if (monthlyCtx && monthlyLabels.length > 0) {
                new Chart(monthlyCtx, {
                    type: 'bar',
                    data: {
                        labels: monthlyLabels,
                        datasets: [{
                            label: 'ë…¼ë¬¸ ìˆ˜',
                            data: monthlyValues,
                            backgroundColor: '#3498db'
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            y: {
                                beginAtZero: true
                            }
                        }
                    }
                });
            }
        });
    </script>
</body>

</html>

